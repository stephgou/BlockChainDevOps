pragma solidity ^0.4.17;

import "truffle/Assert.sol";
import "truffle/DeployedAddresses.sol";
import "../contracts/ChainPoint.sol";
import "../contracts/Helpers.sol";

contract TestChainPoint {

    ChainPoint instance = ChainPoint(DeployedAddresses.ChainPoint());

    function testCheckUsingDeployedContract() public {
   
        string memory userid = "0F623638-9B01-4ca6-A553-72709801DB1C";
        string memory username = "scott";

        //bytes32 expected = keccak256("abc");
        bytes32 expected = Helpers.stringToBytes32(userid);

        bytes32 returnUserid = instance.check(userid, username, 0);

        Assert.equal(returnUserid, expected, "userid was wrongly returned");
    }
}